[buildout]
extends =
    https://raw.githubusercontent.com/eea/eea.plonebuildout.core/master/deployment.cfg
    base.cfg
    versions.cfg

parts +=
    serviceWWW
    supervisor


[configuration]
eggs +=
    Products.LDAPMultiPlugins
    Products.LDAPUserFolder

effective-user = zope 
plone-site = demo.copernicus
pound-port = 9983
www-domain = demo.copernicus.eea.europa.eu/
www1-http-port = 9981
www2-http-port = 9982

zeoserver-address = 127.0.0.1:2100
zeo-monitor-address = 127.0.0.1:2101

memcache-port = 11711


[poundconfig]
daemon = 0

[serviceWWW]
<= www1
http-address = 9980
zserver-threads = 4


[supervisor]
recipe = collective.recipe.supervisor
user = zope 
password = zope 
serverurl = http://127.0.0.1:19001
port = 127.0.0.1:19001
meld3 = 1.0.0
programs =
    10 zeoserver ${buildout:bin-directory}/zeoserver [fg] ${zeoserver:location}
    20 pound ${buildout:bin-directory}/poundrun ${buildout:directory}
    30 memcached ${buildout:directory}/parts/memcached/bin/memcached [-u ${configuration:effective-user} -m ${configuration:memcache-size}] ${buildout:directory}
    40 www1 ${buildout:bin-directory}/www1 [console] ${www1:location}
    50 www2 ${buildout:bin-directory}/www2 [console] ${www2:location}
